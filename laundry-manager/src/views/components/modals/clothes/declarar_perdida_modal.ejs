<div class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 hidden opacity-0 transition-opacity duration-300" id="declarar_perdida_modal">
    <div class="bg-white rounded-lg shadow-lg p-8 max-w-3xl w-full transform scale-95 transition-transform duration-300 h-full">
        <h2 class="text-2xl font-bold mb-6 text-center">Declarar pérdida de artículos</h2>
        <form id="declarar_perdida_form" class="flex flex-col h-full">
            <div class="mb-4">
                <label for="rut_usuario_1" class="block text-sm font-medium text-gray-700">Usuario realizador:</label>
                <input type="text" name="rut_usuario_1" required disabled value="RUT LOGUEADO" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
            </div>
            <div class="mb-4">
                <label for="tipo_perdida" class="block text-sm font-medium text-gray-700">Tipo de pérdida:</label>
                <select id="tipo_perdida" name="tipo_perdida" class="mt-1 block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                    <option value="6">Pérdida en unidad sigcom</option>
                    <option value="5">Pérdida en lavandería externa</option>
                </select>
            </div>
            <div class="mb-4">
                <label for="unidad_sigcom" class="block text-sm font-medium text-gray-700">Unidad Sigcom:</label>
                <select id="unidad_sigcom_db" name="unidad_sigcom" class="mt-1 block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                    <% unidades_sigcom.forEach(u => { %>
                        <option value="<%= u.id_unidad_sigcom %>"><%= u.unidad_sigcom %></option>
                    <% }) %>
                </select>
            </div>
            <div class="mt-4 flex flex-col">
                <label for="observaciones">Observaciones</label>
                <textarea name="observaciones" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" rows="4"></textarea>
            </div>
            <div class="flex justify-between mt-6">
                <button type="button" class="bg-blue-500 text-white p-2 rounded hover:bg-blue-800" onclick="addArticuloDeclararPerdida()">Añadir artículo</button>
            </div>
            <div id="declarar_perdida_container" class="flex-grow overflow-y-auto mt-4 border-t border-gray-200 pt-4" style="max-height: 18rem;">
                <!-- Rows will be added here dynamically -->
            </div>
            <div class="flex justify-between mt-6">
                <button type="button" class="bg-red-500 text-white p-2 rounded hover:bg-red-800" id="closeModalDeclararPerdida">Cancelar</button>
                <button type="submit" class="bg-green-500 text-white p-2 rounded hover:bg-green-800">Guardar cambios</button>
            </div>
        </form>
    </div>
</div>